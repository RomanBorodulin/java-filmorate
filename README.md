# üìΩÔ∏è–ö–∏–Ω–æ–ø–æ–∏—Å–∫ –¥–ª—è —Å–≤–æ–∏—Ö
#### –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –∫–∏–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–æ–≥–æ, –∫–∞–∫–∏–µ —Ñ–∏–ª—å–º—ã —Å–º–æ—Ç—Ä—è—Ç –¥—Ä—É–∑—å—è –∏ –∫–∞–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ –æ–Ω–∏ —Å—Ç–∞–≤—è—Ç.
___
### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   `git clone https://github.com/RomanBorodulin/java-filmorate`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:
   `cd java-filmorate`
3. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Maven:
   `mvn clean install`
   `mvn spring-boot:run`
___
### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* Java 11
* Apache Maven 3.6.0 –∏–ª–∏ –≤—ã—à–µ
___
### C—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π                
* Java
* Spring Boot                               
* Maven
* Lombok
* PostgreSQL
* JDBC
___                                      
### API Reference
* PUT /users/{id}/friends/{friendId} ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –¥—Ä—É–∑—å—è

* DELETE /users/{id}/friends/{friendId} ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –¥—Ä—É–∑–µ–π

* GET /users/{id}/friends ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —è–≤–ª—è—é—â–∏—Ö—Å—è –µ–≥–æ –¥—Ä—É–∑—å—è–º–∏

* GET /users/{id}/friends/common/{otherId} ‚Äî —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π, –æ–±—â–∏—Ö —Å –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

* PUT /films/{id}/like/{userId} ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–∞–≤–∏—Ç –ª–∞–π–∫ —Ñ–∏–ª—å–º—É

* DELETE /films/{id}/like/{userId} ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—è–µ—Ç –ª–∞–π–∫

* GET /films/popular?count={count} ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ –ø–µ—Ä–≤—ã—Ö count —Ñ–∏–ª—å–º–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ª–∞–π–∫–æ–≤. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ count –Ω–µ –∑–∞–¥–∞–Ω–æ, –≤–µ—Ä–Ω—É—Ç—Å—è –ø–µ—Ä–≤—ã–µ 10

* GET /genres - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∂–∞–Ω—Ä–æ–≤ —Ñ–∏–ª—å–º–æ–≤

* GET /genres/{id} - –ø–æ–ª—É—á–µ–Ω–∏–µ –∂–∞–Ω—Ä–æ–≤ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É

* GET /mpa - —Å–ø–∏—Å–æ–∫ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Ñ–∏–ª—å–º–æ–≤

* GET /mpa/{id} - —Ä–µ–π—Ç–∏–Ω–≥ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É
___
### –î–∏–∞–≥—Ä–∞–º–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

<br>![ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](ER-diagram.png)
___
### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

<details>
  <summary>–ü–æ–ª—É—á–∏—Ç—å —Ñ–∏–ª—å–º —Å id=1</summary>

```sql
    SELECT *
    FROM films
    WHERE id = 1;
```

</details>  

<details>
  <summary>–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å id=1</summary>

```sql
    DELETE
    FROM users
    WHERE id = 1;
```

</details>

<details>
  <summary>–ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ø-10 —Ñ–∏–ª—å–º–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ª–∞–π–∫–æ–≤</summary>

```sql
    SELECT f.*,

    COUNT(l.user_id) AS count_likes

    FROM films AS f

    LEFT JOIN likes AS l ON f.id=l.film_id

    GROUP BY f.id

    ORDER BY count_likes DESC

    LIMIT 10;
```

</details>  

